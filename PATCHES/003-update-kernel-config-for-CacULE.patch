From e99d094cb012f12d60bdd5fe957a36547f89d0f9 Mon Sep 17 00:00:00 2001
From: SiYao Mo <msylgj@vip.qq.com>
Date: Thu, 12 Aug 2021 23:23:52 +0800
Subject: [PATCH] update kernel config for CacULE

---
 target/linux/generic/config-5.14 | 35 +++++++++++++++++---------------
 1 file changed, 19 insertions(+), 16 deletions(-)

diff --git a/target/linux/generic/config-5.14 b/target/linux/generic/config-5.14
index ede65ceb35..79162961ec 100644
--- a/target/linux/generic/config-5.14
+++ b/target/linux/generic/config-5.14
@@ -1271,8 +1271,8 @@ CONFIG_CRYPTO_SKCIPHER2=y
 # CONFIG_DEBUG_FORCE_FUNCTION_ALIGN_32B is not set
 # CONFIG_DEBUG_FORCE_FUNCTION_ALIGN_64B is not set
 # CONFIG_DEBUG_FORCE_WEAK_PER_CPU is not set
-CONFIG_DEBUG_FS=y
-CONFIG_DEBUG_FS_ALLOW_ALL=y
+# CONFIG_DEBUG_FS is not set
+# CONFIG_DEBUG_FS_ALLOW_ALL is not set
 # CONFIG_DEBUG_FS_ALLOW_NONE is not set
 # CONFIG_DEBUG_FS_DISALLOW_MOUNT is not set
 # CONFIG_DEBUG_GPIO is not set
@@ -1286,7 +1286,7 @@ CONFIG_DEBUG_INFO_DWARF5=y
 # CONFIG_DEBUG_INFO_DWARF_TOOLCHAIN_DEFAULT is not set
 CONFIG_DEBUG_INFO_REDUCED=y
 # CONFIG_DEBUG_INFO_SPLIT is not set
-CONFIG_DEBUG_KERNEL=y
+# CONFIG_DEBUG_KERNEL is not set
 # CONFIG_DEBUG_KMEMLEAK is not set
 # CONFIG_DEBUG_KOBJECT is not set
 # CONFIG_DEBUG_KOBJECT_RELEASE is not set
@@ -1428,7 +1428,7 @@ CONFIG_DMA_NONCOHERENT_MMAP=y
 # CONFIG_DNET is not set
 # CONFIG_DNOTIFY is not set
 # CONFIG_DNS_RESOLVER is not set
-CONFIG_DOUBLEFAULT=y
+# CONFIG_DOUBLEFAULT is not set
 # CONFIG_DP83822_PHY is not set
 # CONFIG_DP83848_PHY is not set
 # CONFIG_DP83867_PHY is not set
@@ -1789,7 +1789,7 @@ CONFIG_ETHERNET=y
 CONFIG_EVENTFD=y
 # CONFIG_EVM is not set
 # CONFIG_EXFAT_FS is not set
-CONFIG_EXPERT=y
+# CONFIG_EXPERT is not set
 CONFIG_EXPORTFS=y
 # CONFIG_EXPORTFS_BLOCK_OPS is not set
 # CONFIG_EXT2_FS is not set
@@ -4274,7 +4274,7 @@ CONFIG_OF_RESERVED_MEM=y
 # CONFIG_OPROFILE is not set
 # CONFIG_OPROFILE_EVENT_MULTIPLEX is not set
 # CONFIG_OPT3001 is not set
-CONFIG_OPTIMIZE_INLINING=y
+# CONFIG_OPTIMIZE_INLINING is not set
 # CONFIG_ORANGEFS_FS is not set
 # CONFIG_ORION_WATCHDOG is not set
 # CONFIG_OSF_PARTITION is not set
@@ -4304,7 +4304,7 @@ CONFIG_PAGE_SIZE_4KB=y
 # CONFIG_PANEL is not set
 CONFIG_PANIC_ON_OOPS=y
 CONFIG_PANIC_ON_OOPS_VALUE=1
-CONFIG_PANIC_TIMEOUT=1
+CONFIG_PANIC_TIMEOUT=10
 # CONFIG_PANTHERLORD_FF is not set
 # CONFIG_PARAVIRT is not set
 # CONFIG_PARAVIRT_TIME_ACCOUNTING is not set
@@ -4583,7 +4583,7 @@ CONFIG_PPP_MULTILINK=y
 # CONFIG_PPS_CLIENT_PARPORT is not set
 # CONFIG_PPS_DEBUG is not set
 # CONFIG_PPTP is not set
-# CONFIG_PREEMPT is not set
+CONFIG_PREEMPT=y
 # CONFIG_PREEMPTIRQ_DELAY_TEST is not set
 # CONFIG_PREEMPTIRQ_EVENTS is not set
 CONFIG_PREEMPT_NONE=y
@@ -4698,7 +4698,7 @@ CONFIG_PWRSEQ_SIMPLE=y
 # CONFIG_RAW_DRIVER is not set
 # CONFIG_RBTREE_TEST is not set
 # CONFIG_RCU_BOOST is not set
-CONFIG_RCU_CPU_STALL_TIMEOUT=60
+CONFIG_RCU_CPU_STALL_TIMEOUT=4
 # CONFIG_RCU_EQS_DEBUG is not set
 # CONFIG_RCU_EXPEDITE_BOOT is not set
 CONFIG_RCU_EXPERT=y
@@ -4963,7 +4963,7 @@ CONFIG_RTC_SYSTOHC_DEVICE="rtc0"
 # CONFIG_RTS5208 is not set
 CONFIG_RT_MUTEXES=y
 # CONFIG_RUNTIME_DEBUG is not set
-CONFIG_RUNTIME_TESTING_MENU=y
+# CONFIG_RUNTIME_TESTING_MENU is not set
 CONFIG_RWSEM_GENERIC_SPINLOCK=y
 CONFIG_RXKAD=y
 # CONFIG_S2IO is not set
@@ -5002,7 +5002,7 @@ CONFIG_SBITMAP=y
 # CONFIG_SCD30_CORE is not set
 # CONFIG_SCF_TORTURE_TEST is not set
 # CONFIG_SCHEDSTATS is not set
-# CONFIG_SCHED_AUTOGROUP is not set
+CONFIG_SCHED_AUTOGROUP=y
 # CONFIG_SCHED_DEBUG is not set
 CONFIG_SCHED_HRTICK=y
 # CONFIG_SCHED_MC is not set
@@ -5106,7 +5106,7 @@ CONFIG_SCSI_PROC_FS=y
 # CONFIG_SD_ADC_MODULATOR is not set
 # CONFIG_SECCOMP is not set
 # CONFIG_SECCOMP_CACHE_DEBUG is not set
-CONFIG_SECTION_MISMATCH_WARN_ONLY=y
+# CONFIG_SECTION_MISMATCH_WARN_ONLY is not set
 # CONFIG_SECURITY is not set
 # CONFIG_SECURITYFS is not set
 # CONFIG_SECURITY_APPARMOR is not set
@@ -5468,14 +5468,14 @@ CONFIG_SIGNALFD=y
 CONFIG_SLABINFO=y
 # CONFIG_SLAB_FREELIST_HARDENED is not set
 # CONFIG_SLAB_FREELIST_RANDOM is not set
-CONFIG_SLAB_MERGE_DEFAULT=y
+# CONFIG_SLAB_MERGE_DEFAULT is not set
 # CONFIG_SLHC is not set
 # CONFIG_SLICOSS is not set
 # CONFIG_SLIMBUS is not set
 # CONFIG_SLIP is not set
 # CONFIG_SLOB is not set
 CONFIG_SLUB=y
-CONFIG_SLUB_CPU_PARTIAL=y
+# CONFIG_SLUB_CPU_PARTIAL is not set
 # CONFIG_SLUB_DEBUG is not set
 # CONFIG_SLUB_DEBUG_ON is not set
 # CONFIG_SLUB_MEMCG_SYSFS_ON is not set
@@ -6047,7 +6047,7 @@ CONFIG_STP=y
 CONFIG_STRICT_KERNEL_RWX=y
 CONFIG_STRICT_MODULE_RWX=y
 # CONFIG_STRING_SELFTEST is not set
-CONFIG_STRIP_ASM_SYMS=y
+# CONFIG_STRIP_ASM_SYMS is not set
 # CONFIG_STX104 is not set
 # CONFIG_ST_UVIS25 is not set
 # CONFIG_SUN4I_GPADC is not set
@@ -6211,7 +6211,7 @@ CONFIG_THIN_ARCHIVES=y
 # CONFIG_THUNDER_NIC_PF is not set
 # CONFIG_THUNDER_NIC_RGX is not set
 # CONFIG_THUNDER_NIC_VF is not set
-# CONFIG_TICK_CPU_ACCOUNTING is not set
+CONFIG_TICK_CPU_ACCOUNTING=y
 CONFIG_TICK_ONESHOT=y
 # CONFIG_TIFM_CORE is not set
 # CONFIG_TIGON3 is not set
@@ -7232,3 +7232,6 @@ CONFIG_ZONE_DMA=y
 # CONFIG_ZRAM_MEMORY_TRACKING is not set
 # CONFIG_ZSMALLOC is not set
 # CONFIG_ZX_TDM is not set
+# CONFIG_MEMCG is not set
+# CONFIG_CGROUP_CPUACCT is not set
+# CONFIG_CGROUP_DEBUG is not set
